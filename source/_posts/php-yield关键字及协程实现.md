---
title: php yield关键字及协程实现
tags: []
id: '67'
categories:
  - - uncategorized
date: 2020-09-23 07:16:51
---

> 迭代是指反复执行一个过程，每执行一次叫做迭代一次

php提供了统一的迭代器接口，之前文章我已经写过了。传送门

通过实现`Iterator`接口，可以自行决定如何遍历。

## 生成器

> 相比迭代器，生成器提供了更容易的方法来简单实现对象的迭代，性能开销和复杂性大大降低。

一个生成器函数看起来更像一个普通的函数，不同的是普通函数返回的是一个值，而生成器可以`yield`生成许多个值。

生成器`yield`关键字不是返回值，而是返回`Generator`对象，不能被实力化，且继承了`Iterator`接口。

生成器优点：

*   生成器会对php应用的性能有非常大的影响。
*   代码运行时，节省大量内存。
*   适合计算大量的数据。

## 颠覆常识的yield

大家都知道`range`函数创建一个包含指定范围的元素的数组。